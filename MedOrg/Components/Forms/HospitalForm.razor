@using MedOrg.Models.Entities

<EditForm Model="@Model" OnValidSubmit="@HandleSubmit">
    <DataAnnotationsValidator />

    <div class="mb-3">
        <label class="form-label">Название больницы *</label>
        <InputText class="form-control" @bind-Value="Model.Name" />
        <ValidationMessage For="@(() => Model.Name)" />
    </div>

    <div class="mb-3">
        <label class="form-label">Адрес *</label>
        <InputText class="form-control" @bind-Value="Model.Address" />
        <ValidationMessage For="@(() => Model.Address)" />
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">@(IsEdit ? "Сохранить" : "Добавить")</button>
        <button type="button" class="btn btn-secondary" @onclick="OnCancel">Отмена</button>
    </div>
</EditForm>

@code {
    [Parameter] public Hospital Model { get; set; } = new();
    [Parameter] public bool IsEdit { get; set; }
    [Parameter] public EventCallback OnSubmit { get; set; }
    [Parameter] public EventCallback OnCancel { get; set; }

    private async Task HandleSubmit()
    {
        await OnSubmit.InvokeAsync();
    }
}